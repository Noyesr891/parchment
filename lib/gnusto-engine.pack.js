eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([RU-Z]|[1-8]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('W 4K=\'$Date: 2005/04/26 01:50:32 $\';W ENGINE_DESCRIPTION="Gnusto\'s interactive fiction 1U";W 2F={2q:0xe4,156:0xf6,157:0xfc,4L:0xc4,159:0xd6,4M:0xdc,161:0xdf,162:0xbb,163:0xab,164:0xeb,165:0xef,166:4N,4O:0xcb,4P:0xcf,169:0xe1,1V:0xe9,4Q:0xed,172:0xf3,4R:0xfa,4S:0xfd,3R:0xc1,4T:0xc9,4U:0xcd,4V:0xd3,4W:0xda,3S:0xdd,2G:0xe0,2H:0xe8,4X:0xec,4Y:0xf2,2r:0xf9,3T:0xc0,4Z:0xc8,3c:0xcc,51:0xd2,2b:0xd9,2s:0xe2,192:0xea,193:0xee,194:0xf4,195:0xfb,52:0xc2,197:0xca,198:0xce,54:0xd4,3U:0xdb,55:0xe5,3V:0xc5,56:0xf8,3W:0xd8,57:0xe3,206:0xf1,58:0xf5,59:0xc3,209:0xd1,5a:0xd5,211:0xe6,5b:0xc6,213:0xe7,5c:0xc7,215:0xfe,216:0xf0,5d:0xde,5e:0xd0,219:0xa3,220:0x153,5f:0x152,222:0xa1,223:0xbf};W 3d={};W 3X=0;W 3Y=1;W 3Z=2;W 40=0;W 41="SP";W 5g=\'"RS"\';W 5h=\'"RC"\';W 42=\'"DS"\';W 43=\'"DR"\';W 5i=\'"QU"\';W 5j=\'"NU"\';W GNUSTO_EFFECT_WIMP_OUT=\'"WO"\';W GNUSTO_EFFECT_BREAKPOINT=\'"BP"\';W 5l=\'"XC"\';W 5m=\'"CP"\';W 44=\'"SS"\';W 5n=\'"FX"\';W 5o=\'"TW"\';W 5p=\'"SW"\';W 5q=\'"YW"\';W 5r=\'"YL"\';W 5s=\'"SC"\';W 5t=\'"SB"\';W 5u=\'"SI"\';W 5v=\'"GC"\';W GNUSTO_EFFECT_PRINTTABLE=\'"PT"\';X 5x(c,d){U(d.1b<2){V\'\'}Y U(d.1b==2){V c._1(d[0]+\'==\'+d[1])}Y{W e=\'\';1c(W f=1;f<d.1b;f++){U(f!=1)e=e+\'||\';e=e+\'t==\'+d[f]}V\'t=\'+d[0]+\';\'+c._1(e)}}X 5y(c,d){V c._1(d[0]+\'<\'+d[1])}X 5z(c,d){V c._1(d[0]+\'>\'+d[1])}X 5A(c,d){V\'t=\'+d[0]+\';t2=_8(t)-1;_3(t2,t);\'+c._1(\'t2<\'+d[1])}X 5B(c,d){V\'t=\'+d[0]+\';t2=_8(t)+1;_3(t2,t);\'+c._1(\'t2>\'+d[1])}X 5C(c,d){V c._1("_v("+d[0]+\',\'+d[1]+\')\')}X 5E(c,d){V\'t=\'+d[1]+\';\'+c._1(\'(\'+d[0]+\'&t)==t\')}X 5F(c,d){V c._0(\'(\'+d[0]+\'|\'+d[1]+\')&3e\')}X 5G(c,d){V c._0(d[0]+\'&\'+d[1]+\'&3e\')}X 5H(c,d){V c._1(\'_w(\'+d[0]+\',\'+d[1]+\')\')}X 5J(c,d){V\'_x(\'+d[0]+\',\'+d[1]+\')\'}X 5L(c,d){V\'_y(\'+d[0]+\',\'+d[1]+\')\'}X 5N(c,d){V"_3("+d[1]+","+d[0]+")"}X 5O(c,d){V"_l("+d[0]+\',\'+d[1]+")"}X 5P(c,d){V c._0("1I((1*"+d[0]+"+2*"+d[1]+")&1e)")}X 5Q(c,d){V c._0("1a[1e&(1*"+d[0]+"+1*"+d[1]+")]")}X 5R(c,d){V c._0("_z("+d[0]+\',\'+d[1]+\')\')}X 5T(c,d){V c._0("_A("+d[0]+\',\'+d[1]+\')\')}X 5V(c,d){V c._0("_B("+d[0]+\',\'+d[1]+\')\')}X 5X(c,d){V c._0(d[0]+\'*1+\'+d[1]+\'*1\')}X 5Y(c,d){V c._0(d[0]+\'-\'+d[1])}X 5Z(c,d){V c._0(d[0]+\'*\'+d[1])}X 60(c,d){V c._0(\'_C(\'+d[0]+\',\'+d[1]+\')\')}X 62(c,d){V c._0(d[0]+\'%\'+d[1])}X 63(c,d){V"Z="+c.Z+";1j=["+44+",-1,"+d[0]+\',\'+d[1]+"];V"}X 66(c,d){c.1g=0;V"_D("+d[0]+");V"}X 68(c,d){V c._1(d[0]+\'==0\')}X 69(c,d){V"t=_d("+d[0]+");"+c._0("t")+";"+c._1("t")}X 6a(c,d){V"t=_9("+d[0]+");"+c._0("t")+";"+c._1("t")}X 6b(c,d){V c._0("_a("+d[0]+")")}X 6c(c,d){V c._0("_E("+d[0]+\')\')}X 6e(c,d){V"t="+d[0]+\';_3(_8(t)+1, t)\'}X 6f(c,d){V"t="+d[0]+\';_3(_8(t)-1, t)\'}X 6g(c,d){V c._4(\'_5(\'+d[0]+\')\',0)}X 6h(c,d){V"_F("+d[0]+\',\'+d[1]+")"}X 6j(c,d){V c._4("_G("+d[0]+")",0)}X 6l(c,d){c.1g=0;V"_2("+d[0]+\');V\'}X 6m(c,d){c.1g=0;U(d[0]&2K){d[0]=(~1e)|d[0]}W e=(d[0]+c.Z)-2;V"Z="+e+";V"}X 6n(c,d){V c._4("_5("+c.2v(d[0])+")",0)}X 6o(c,d){V c._0(\'_8(\'+d[0]+\')\')}X 6p(c,d){c.1g=0;V"_2(1);V"}X 6q(c,d){c.1g=0;V"_2(0);V"}X 6r(c,d){V c._m(\'\',0)}X 6s(c,d){c.1g=0;V c._m(\'\\n\',1)+\';_2(1);V\'}X 6t(c,d){V""}X 6u(c,d){c.1g=0;V"1j=["+5j+"];V"}X 6v(c,d){c.1g=0;V"_2(1o.1W());V"}X 6w(c,d){V c._0("call_stack.1b")}X 2L(c,d){V"1o.1W()"}X 6x(c,d){c.1g=0;V"1j=["+5i+"];V"}X 6y(c,d){V c._4("\'\\\\n\'",0)}X 3g(c,d){c._4(\'\');V""}X 6z(c,d){V c._1(\'_H()\')}X 6B(c,d){1f(54)}X 6C(c,d){c.1g=0;W e=\'1r=X(){\'+c._1(\'(!1v[0])\')+\'};\';V"Z="+c.Z+";"+e+"1j=["+5m+"];V"}X 6D(c,d){V c._6(d[0],\'\',0)}X 6E(c,d){V c._6(d[0],\'\',1)}X 6F(c,d){V c._6(d[0],d[1],0)}X 6G(c,d){V c._6(d[0],d[1],1)}X 47(c,d){V c._6(d[0],d.1s(1),0)}X 48(c,d){V c._6(d[0],d.1s(1),1)}X 6H(c,d){V"2c("+d[2]+",1*"+d[0]+"+2*"+d[1]+")"}X 6I(c,d){V"1q("+d[2]+",1*"+d[0]+"+1*"+d[1]+")"}X 6J(c,d){V"_I("+d[0]+\',\'+d[1]+\',\'+d[2]+\')\'}X 6L(c,d){W e;W f;c.1g=0;W g="_J(1v[0],1C[1],1C[2],1v[1])";W i;W h;U(c.1k>=5){g=c._0(g)}U(c.1k>=5){i="1a[1e&a0+1]";h="1a[1e&a0]"}Y{i=\'0\';h="1a[1e&a0]+1"}U(d[2]&&d[3]&&(c.1k>=4)){e=d[2];f=c.2d(d[3])}Y{e=\'0\';f=\'0\'}W j="1r=X(){W t=1*1v[0];U(t<0){_n(1C[0],6N);}Y{"+g+";}};";W m="1C=["+f+",a0,"+d[1]+",];";V"W a0=4a("+d[0]+");Z="+c.Z+";"+m+j+"1j=["+5g+","+e+","+i+","+h+",_K()];V"}X 6P(c,d){V c._4(\'_7(\'+d[0]+\')\',0)}X 6Q(c,d){V c._4(d[0],0)}X 6R(c,d){V c._0("_e("+d[0]+")")}X 6S(c,d){V\'1o.1i(\'+d[0]+\')\'}X 6T(c,d){V\'_3(1o.1W(),\'+d[0]+\')\'}X 6U(c,d){c.1g=0;V"Z="+c.Z+";1j=["+5o+","+d[0]+"];V"}X 6V(c,d){c.1g=0;V"Z="+c.Z+";1j=["+5p+","+d[0]+"];V"}X 6W(c,d){c.1g=0;V"Z="+c.Z+";1j=["+5q+","+d[0]+"];V"}X 6X(c,d){c.1g=0;V"Z="+c.Z+";1j=["+5r+","+d[0]+"];V"}X 6Y(c,d){c.1g=0;V"Z="+c.Z+";1j=["+5s+","+d[0]+","+d[1]+"];V"}X 6Z(c,d){c.1g=0;V"Z="+c.Z+";1j=["+5v+","+d[0]+"];V"}X 70(c,d){c.1g=0;V"Z="+c.Z+";1j=["+44+","+d[0]+",0,0];V"}X 72(c,d){c.1g=0;V"Z="+c.Z+";1j=["+5t+","+d[0]+"];V"}X 73(c,d){V\'_L(\'+d[0]+\',\'+d[1]+\')\'}X 75(c,d){c.1g=0;V"Z="+c.Z+";1j=["+5u+","+d[0]+"];V"}X 76(c,d){c.1g=0;1p(d.1b<5){d.1i(0)}V"Z="+c.Z+\';1j=[\'+5n+\',\'+d[0]+\',\'+d[1]+\',\'+d[2]+\',\'+d[3]+\',\'+d[4]+\'];V\'}X 77(c,d){W e;W f;W g;c.1g=0;U(d[1]&&d[2]&&(c.1k>=4)){e=d[1];f="1C=["+c.2d(d[2])+\'];\';g="1r=X(){W t=1*1v[0];U(t<0){_n(1C[0],78);}Y{"+c._0("t")+"}};"}Y{e=\'0\';f=\'\';g="1r=X(){"+c._0("1*1v[0]")+"};"}V"Z="+c.Z+";"+f+g+"1j=["+5h+","+e+"];V"}X 79(c,d){U(d.1b==4){V"t=_o("+d[0]+\',\'+d[1]+"&1e,"+d[2]+"&1e,"+d[3]+");"+c._0("t")+";"+c._1(\'t\')}Y{V"t=_o("+d[0]+\',\'+d[1]+"&1e,"+d[2]+"&1e,"+0x82+");"+c._0("t")+";"+c._1(\'t\')}}X 2w(c,d){V c._0(\'~\'+d[0]+\'&3e\')}X 7a(c,d){V"_p(("+d[0]+")&1e,("+d[1]+")&1e,"+d[2]+","+d[3]+")"}X 7b(c,d){V"_M("+d[0]+","+d[1]+","+d[2]+","+d[3]+")"}X 7d(c,d){V"_N("+d[0]+\',\'+d[1]+\',\'+d[2]+")"}X 7f(c,d){U(d.1b<3){d.1i(1)}U(d.1b<4){d.1i(0)}V"Z="+c.Z+";1j=_O("+d[0]+","+d[1]+","+d[2]+","+d[3]+");V"}X 7h(c,d){V c._1(d[0]+\'<=_P()\')}X 3i(c,d){c.1g=0;W e=\'1r=X(){\'+c._1(\'1v[0]\')+\'};\';V"3j=_f(1);Z="+c.Z+";"+e+";1j=["+42+"];V"}X 4d(c,d){c.1g=0;W e="1r=X() { "+c._0(\'1v[0]\')+"};";V"3j=_f("+(c.1k==4?\'1\':\'3\')+");Z="+c.Z+";"+e+";1j=["+42+"];V"}X 3l(c,d){c.1g=0;c._1(\'\');V"Z="+c.Z+";1j=["+43+"];V"}X 4e(c,d){c.1g=0;W e=\'1r=X() { W t=1v[0]; U (t==0){\'+c._0(\'t\')+\'}};\';V"Z="+c.Z+";"+e+"1j=["+43+"];V"}X 7j(c,d){V c._0("_Q("+d[0]+\',\'+d[1]+\')\')}X 7l(c,d){V c._0("_R("+d[0]+\',\'+d[1]+\')\')}X 7n(c,d){V c._0(\'(\'+d[0]+\'<2?1:0)\')}X 7o(c,d){V c._0(\'_S(3)\')}X 7q(c,d){V\'U(_T(3))V;\'+c._0(\'0\')}X 7s(c,d){V c._4("1w.1x("+d[0]+")",0)}X 7t(c,d){V c._0(\'3\')}W 3m={1:5x,2:5y,3:5z,4:5A,5:5B,6:5C,7:5E,8:5F,9:5G,10:5H,11:5J,12:5L,13:5N,14:5O,15:5P,16:5Q,17:5R,18:5T,19:5V,20:5X,21:5Y,22:5Z,23:60,24:62,25:6G,26:6F,27:63,28:66,3n:68,7u:69,130:6a,131:6b,132:6c,133:6e,134:6f,135:6g,3o:6E,137:6h,138:6j,139:6l,140:6m,141:6n,142:6o,2M:6D,4T:6p,4U:6q,4V:6r,4W:6s,3S:6t,4X:6u,4Y:6v,2r:6w,3T:6x,4Z:6y,51:6z,2b:6B,2s:6C,224:48,225:6H,226:6I,227:6J,228:6L,229:6P,230:6Q,231:6R,232:6S,233:6T,234:6U,235:6V,2N:48,3p:6W,3q:6X,3r:6Y,3s:6Z,3t:70,3u:72,243:73,244:75,245:76,3v:77,3w:79,2O:2w,2P:47,2x:47,2e:7a,2y:7b,2Q:7d,2R:7f,2z:7h,3x:4d,1001:4e,1002:7j,1003:7l,1004:7n,1009:7o,1010:7q,1011:7s,1012:7t};W 4f={1:{25:0,26:0,27:0,28:0,3o:0,2M:2w,2G:3i,2H:3l,2r:2L,3c:3g,2b:0,2s:0,2N:0,3p:0,3q:0,3r:0,3s:0,3t:0,3u:0,3v:0,3w:0,2O:0,2P:0,2x:0,2e:0,2y:0,2Q:0,2R:0,2z:0},2:{25:0,26:0,27:0,28:0,3o:0,2M:2w,2G:3i,2H:3l,2r:2L,3c:3g,2b:0,2s:0,2N:0,3p:0,3q:0,3r:0,3s:0,3t:0,3u:0,3v:0,3w:0,2O:0,2P:0,2x:0,2e:0,2y:0,2Q:0,2R:0,2z:0},3:{25:0,26:0,27:0,28:0,3o:0,2M:2w,2G:3i,2H:3l,2r:2L,3c:3g,2b:0,2s:0,2N:0,3p:0,3q:0,3r:0,3s:0,3t:0,3u:0,3v:0,3w:0,2O:0,2P:0,2x:0,2e:0,2y:0,2Q:0,2R:0,2z:0},4:{26:0,27:0,28:0,2M:2w,2G:4d,2H:4e,2r:2L,2b:0,2s:0,2O:0,2P:0,2x:0,2e:0,2y:0,2Q:0,2R:0,2z:0},5:\'\',6:7v,7:\'\',8:\'\'};X 4g(c){V\'((\'+c+\')&1e)*2\'}X 2S(c){V\'((\'+c+\')&1e)*4\'}X 7w(c){V\'((\'+c+\')&1e)*4+\'+R.4h}X 7x(c){V\'((\'+c+\')&1e)*4+\'+R.4i}X 4j(c){V\'((\'+c+\')&1e)*8\'}X 1f(c){4k=\'Component: 1U\\n\';1c(W d=1;d<3y.1b;d++){U(3y[d]&&3y[d].2f){4k+=\'\\nDetail: \'+3y[d].2f()}}throw 7y FatalError(4k);}X 78(c,d){U(d){c.1U.1v[0]=0;c.2T()}Y{c.1U.1j=c.4l;c.1U.1r=c.2T;c.1U.1C=c.4m}}X 6N(c,d){W e=c.1U;U(d){e.1v[0]=0;e.1v[1]=\'\';c.2T()}Y{e.1j=c.4l;e.1r=c.2T;e.1C=c.4m}}X 7z(c){U(c)R.2U=X(a,b){c("gnusto-1U: "+a+": "+b)};Y R.2U=X(){}}7z.prototype={loadStory:X ge_loadStory(c){R.1a=c;R._q()},loadSavedGame:X ge_loadSavedGame(g,i,h,j,m,p){X k(c,d){W e=m[c++];1c(W f=1;f<d;f++){e=(e<<8)|m[c++]}V e}U(h){W n=[];W q=0;W l=0;1p(q<i.1b){U(l>=R.1D.1b){1f(7A,"overshoot in decompression")}W r=i[q++];U(r==0){W x=i[q++]+1;n=n.1l(R.1D.1s(l,l+x));l+=x}Y{n.1i(r^R.1D[l++])}}i=n}R.1y=[];R.1o=[];R.1E=[];R.1m=[];R.1K=[];W s=0;s=k(7,1);R.1A=[];W v=s;W o=8;1c(W w=0;w<s;w++){R.1o.1i(k(o,2));o+=2}1p(o<j){R.1y.1i(k(o,3));o+=3;W B=m[o++];W C=m[o++];U(B&2m){C=-1}W D=B&0xF;R.1E.2n(D);R.1K.1i(C);W E=m[o++]+1;W t=0;1p(E>1){E>>=1;t++}R.1F.2n(t);s=k(o,2);o+=2;v+=s;R.1A.1i(v);W y=[];1c(W J=0;J<D;J++){y.1i(k(o,2));o+=2}R.1m=y.1l(R.1m);1c(W w=0;w<s;w++){R.1o.1i(k(o,2));o+=2}}1c(W G=0;G<16;G++){R.1m.1i(0)}R.1a=i.1l(R.1a.1s(i.1b));U(R.1k<=3){R.Z=p;4a("W t=7y Function(\'7B(R){\'+_1(\'1\')+\'}\');t.call(R);")}Y{R._3(2,R.1a[p]);R.Z=p+1}},resetStory:X ge_resetStory(){R.1a=R.1D.1s();R._q()},2V:X ge_version(){1f(3z,"\'2V\' 3A 3B")},7C:X ge_signature(){1f(3z,"\'7C\' 3A 3B")},cvsVersion:X ge_cvsVersion(){V 4K.1X(7,26)},setGoldenTrail:X ge_setGoldenTrail(c){U(c){R.2W=1}Y{R.2W=0}},setCopperTrail:X ge_setCopperTrail(c){U(c){R.2X=1}Y{R.2X=0}},effect:X ge_effect(c){V R.1j[c]},answer:X ge_answer(c,d){R.1v[c]=d},run:X ge_run(){W c=0;W d=0;W e;W f=R.4o?1:10000;U(R.1r){R.1r();R.1r=0;R.1C=[]}R.1j=[];1p(R.1j.1b==0){U(d++>=f){R.1j=[\'WO\'];V 1}c=R.Z;U(R.1Y[c]){e=R.1Y[c]}Y{e=4a(\'7B (R) {dummy=\'+R._U()+\'}\');U(c>=R.1Z){R.1Y[c]=e}}U(R.2X){R.2U(\'pc\',c.2f(16));R.2U(\'jit\',e)}e()}},7E:X ge_walk(c){1f(3z,"\'7E\' 3A 3B")},setRandomSeed:X ge_setRandomSeed(c){U(c>0){R._e(-c)}Y{R._e(c)}},saveGame:X ge_saveGame(){X g(c,d){W e=[];e.1b=d;1c(W f=0;f<d;f++){e[(d-f)-1]=c&1t;c>>=8}V e}W i=R.3j;W h=[4p,0x4f,0x52,4q];W j=[0x43,4q,7F,7G];W m=[0x55,4q,7F,7G];W p=[7H,0x74,0x6b,0x73];W k=[7I,4p,0x5a,7H,7I,4p,0x68,0x64,1O,1O,1O,0x0d,i.1a[7J],i.1a[7K],i.1a[0x12],i.1a[0x13],i.1a[0x14],i.1a[0x15],i.1a[0x16],i.1a[0x17],i.1a[0x1C],i.1a[0x1D],(i.Z>>16)&1t,(i.Z>>8)&1t,(i.Z)&1t,0];U(R.7L){W n=[];W q=0;1c(W l=0;l<R.1Z;l++){U(i.1a[l]==R.1D[l]){q++;U(q==256){n.1i(0);n.1i(2z);q=0}}Y{U(q!=0){n.1i(0);n.1i(q-1);q=0}n.1i(i.1a[l]^R.1D[l])}}U(q!=0){n.1i(0);n.1i(q-1)}k=k.1l(j);k=k.1l(g(n.1b,4));k=k.1l(n);U((n.1b%2)!=0){k.1i(0)}}Y{k=k.1l(m);k=k.1l(g(R.1Z,4));k=k.1l(R.1a.1s(0,R.1Z));U((R.1Z%2)!=0){k.1i(0)}}W r=[1O,1O,1O,1O,1O,1O];r=r.1l(g(R.1A[0],2));W x=R.1m.1b-16;W s=0;1c(W v=0;v<R.1A[0];v++){r=r.1l(g(R.1o[s++],2))}1c(W o=0;o<R.1y.1b;o++){r=r.1l(g(R.1y[o],3));W w=R.1E[R.1E.1b-(o+1)];W B=w;W C=R.1K[o];W D=R.1F[R.1F.1b-(o+1)];W E=R.1A[o]-s;U(C==-1){C=0;B|=2m}r=r.1l([B,C,(1<<D)-1,(E>>8)&1t,(E)&1t]);x-=w;1c(W t=0;t<w;t++){r=r.1l(g(R.1m[x+t],2))}1c(W v=0;v<E;v++){r=r.1l(g(R.1o[s++],2))}}k=k.1l(p);k=k.1l(g(r.1b,4));k=k.1l(r);W y=h;y=y.1l(g(k.1b,4));y=y.1l(k);R.2Y=y;V R.2Y.1b},saveGameData:X ge_saveGameData(c,d){W e=R.2Y;R.2Y=0;V e},architecture:X ge_architecture(){V\'none\'},piracy:X ge_piracy(){V-1},tandy:X ge_tandy(){V-1},7M:X ge_status(){V\'R is the 7M, hurrah!\'},getStatusLine:X ge_getStatusLine(c){W d=R.1h(R.1u);W e=R.1h(R.2A+(R.1B*d));W f=R._5(e+1);U(f.1b>c){f=f.1X(0,c-3);W g=\'...\';W i=\'\'}Y{U((R.1k>3)&&((R.2h(1)&7J)==2)){W 4r=R.1h(R.1u+2);W 3D=R.1h(R.1u+4);U(3D<10){W g=4r+\':0\'+3D}Y{W g=4r+\':\'+3D}}Y{W g=\'Score: \'+R.1h(R.1u+2)+\'  Moves: \'+R.1h(R.1u+4)}U((f.1b+g.1b+1)>c){g=\' S:\'+R.1h(R.1u+2)+\' M:\'+R.1h(R.1u+4);U((f.1b+g.1b+1)>c){g=\' \'+R.1h(R.1u+2)+\'/\'+R.1h(R.1u+4)}U((f.1b+g.1b+1)>c){g=\'\'}}W i=\'\';1p((f.1b+g.1b+i.1b)<c){i+=\' \'}}V f+i+g},_q:X ge_initial_setup(){R.1Y=[];R.1g=0;R.1o=[];R.1A=[];R.1y=[];R.1m=[];R.1E=[];R.1F=[];R.1K=[];R.2W=0;R.2X=0;R.1k=R.1a[0];R.7N=R.1h(0x4);R.Z=R.1h(0x6);R.2B=R.1h(0x8);R.2Z=R.1h(0xA);R.1u=R.1h(0xC);R.1Z=R.1h(0xE);R.4s=R.1h(0x18);U(R.1k>=4){R.30=R.1h(0x34);R.1G=R.2Z+112;R.2A=R.1G+12;R.1B=14}Y{R.30=0;R.1G=R.2Z+53;R.2A=R.1G+7;R.1B=9}R.3E=R.1h(0x36);R.1D=R.1a.1s();U(R.1k<=3){R.2d=4g;R.2v=4g}Y U(R.1k<=5){R.2d=2S;R.2v=2S}Y U(R.1k<=7){R.4h=R.1h(0x28)*8;R.4i=R.1h(0x2a)*8;R.2d=7w;R.2v=7x}Y U(R.1k==8){R.2d=4j;R.2v=4j}Y{1f(1V,\'7O: 7P z-2V got R far\')}U(!(R.1k in 4f)){1f(311,\'7P z-7Q 2V\')}W c=4f[R.1k];7R(4t(c)){2o\'7v\':1f(3z,\'z-7Q 2V 3A 3B\');1P;2o\'string\':R.2i=3m;1P;2o\'7S\':R.2i={};1c(W d in 3m){R.2i[d]=3m[d]}1c(W 31 in c){U((4t c[31])==\'X\'){R.2i[31]=c[31]}Y{delete R.2i[31]}}1P;default:1f(1V,\'7O: weird stuff in fixups table\')}R.2p=R.1a[R.2B];1c(W e=0;e<R.2p;e++){R.4u[e]=R._7(R.1a[R.2B+e+1])}U(R.3E>0){R.1H=R.1h(R.3E+6);U(R.1H>0){R.33=R.1a[R.1H];R.1H+=1;1c(W e=0;e<R.33;e++)3d[R.1h(R.1H+(e*2))]=e+2q}}U(!(R.1H>0)){1c(W e in 2F)3d[2F[e]]=e}R.1r=0;R.1C=[];R.34=1;R.1Q=[];R.3F=0;R.2C=\'\';R.2D=\'\';R.1R[0]=\'abcdefghijklmnopqrstuvwxyz\';R.1R[1]=\'ABCDEFGHIJKLMNOPQRSTUVWXYZ\';U(R.1k==1){R.1R[2]=\'T0123456789.,!?_#\\\'"/\\\\<-:()\'}Y{R.1R[2]=\'T\\n0123456789.,!?_#\\\'"/\\\\-:()\'}W f;W g;U(R.30>0){1c(W i=0;i<3;i++){W h=\'\';1c(W j=0;j<26;j++){g=R.1a[R.30+(i*26)+j];U((g>=2q)&&(g<=2e)){U(R.1H==0){h+=1w.1x(2F[g])}Y{U((g-3G)<=R.33)h+=1w.1x(R.1h(R.1H+((g-2q)*2)));Y h+=\' \'}}Y{f=1w.1x(g);U(f==\'^\')f=\'\\n\';h+=f}}R.1R[i]=h}}1c(W e=0;e<16;e++)R.1m[e]=0;R.35=0;R.36=\'\'},2h:X ge_getbyte(c){U(c<0){c&=1e}V R.1a[c]},1q:X ge_setByte(c,d){U(d<0){d&=1e}R.1a[d]=c},1I:X ge_getWord(c){U(c<0){c&=1e}V R._V((R.1a[c]<<8)|R.1a[c+1])},_V:X ge_unsigned2signed(c){V((c&2K)?~1e:0)|c},_11:X ge_signed2unsigned(c){V c&1e},1h:X ge_getUnsignedWord(c){U(c<0){c&=1e}V(R.1a[c]<<8)|R.1a[c+1]},2c:X ge_setWord(c,d){U(d<0){d&=1e}R.1q((c>>8)&1t,d);R.1q((c)&1t,d+1)},_g:X ge_handle_var_parameters(c,d,e){W f=0;U(e==1){d=(d<<8)|1t}1p(1){W g=d&7U;U(g==7U){V}Y U(g==0x0000){c[f++]=R.1I(R.Z);R.Z+=2}Y U(g==0x4000){c[f++]=R.1a[R.Z++]}Y U(g==2K){c[f++]=R._b(R.1a[R.Z++])}Y{1f(4Q)}d=(d<<2)|0x3}},_U:X ge_compile(){R.1g=1;1L=\'\';W c=R.Z;W d=0;do{W e=[];this_instr_pc=R.Z;1L=1L+\'_W(\'+R.Z+\');\';W f=R.1a[R.Z++];U(f==0){1f(55)}Y U(f==2b){f=3x+R.1a[R.Z++];R._g(e,R.1a[R.Z++],1)}Y U(f&29){U(f&2E){U(!(f&4v))f&=3I;U(f==2x||f==2N){W g=R.1h(R.Z);R.Z+=2;R._g(e,g,2)}Y R._g(e,R.1a[R.Z++],1)}Y{7R(f&7W){2o 1O:e[0]=R.1I(R.Z);R.Z+=2;f=(f&3J)|29;1P;2o 2m:e[0]=R.1a[R.Z++];f=(f&3J)|29;1P;2o 4v:e[0]=R._b(R.1a[R.Z++]);f=(f&3J)|29;1P;2o 7W:f=(f&3J)|0xB0;1P}}}Y{U(f&2E)e[0]=R._b(R.1a[R.Z++]);Y e[0]=R.1a[R.Z++];U(f&4v)e[1]=R._b(R.1a[R.Z++]);Y e[1]=R.1a[R.Z++];f&=3I}1c(W i=0;i<e.1b;i++)U(e[i]==41){W h="tmp_"+d++;1L+="W "+h+" = 1o.1W();";e[i]=h}U(R.2i[f]){1L=1L+R.2i[f](R,e)+\';\'}Y U(f>=1128&&f<=1255&&"7X"+(f-3x)in R){1L=1L+R["7X"+(f-3x)](e)+\';\'}Y{1f(3U,R.Z.2f(16))}}1p(R.1g);U(R.4o||R.7Y){1L=1L+\'Z=\'+R.Z}V\'X J\'+c.2f(16)+\'(){\'+1L+\'}\'},_P:X ge_param_count(){V R.1F[0]},_L:X ge_set_output_stream(c,d){U(c==0){}Y U(c==1){R.34=1}Y U(c==2){R.1a[4w]|=7Z}Y U(c==3){U(R.1Q.1b>15){1f(3V)}R.1Q.2n([d,d+2])}Y U(c==4){R.3F=1}Y U(c==-1){R.34=0}Y U(c==-2){R.1a[4w]&=~7Z}Y U(c==-3){U(R.1Q.1b<1){1f(56)}W e=R.1Q.3K();R.2c((e[1]-e[0])-2,e[0])}Y U(c==-4){R.3F=0}Y{1f(3W,c)}},_C:X ge_trunc_divide(c,d){W e;U(d==0){1f(701);V 0}e=c/d;U(e>0){V 1S.floor(e)}Y{V 1S.ceil(e)}},_7:X ge_zscii_char_to_ascii(c){U(c<0){1f(80,c)}W d;U(c==13||c==10){d=10}Y U((c>=32&&c<=4x)||c==0){d=c}Y U(c>=2q&&c<=2e){U(R.1H==0)V 1w.1x(2F[c]);Y{U((c-3G)<=R.33)V 1w.1x(R.1h(R.1H+((c-2q)*2)));Y 1f(703,c)}}Y{V"*"}V 1w.1x(d)},_h:X ge_ascii_char_to_zscii(c){U((c>=32&&c<=4x)||c==0){V c}W d;U(c<0){1f(80,\'Illegal unicode character:\'+c)}Y U(c==13||c==10){d=10}Y U((c>=32&&c<=4x)||c==0){d=c}Y{d=3d[c];U(!d){d=\'*\'.2a(0)}}V d},_e:X ge_random_number(c){U(c==0){R.38=R.39=0;V 0}Y U(c<-7A){R.1T=1S.4y(c);R.38=1;R.39=0;V 0}Y U(c<0){R.4z=1S.4y(c)-1;R.1T=0;R.38=0;R.39=1;V 0}Y{U(R.38){R.1T--;V 1+(1S.4A(1S.4y(1S.tan(R.1T))*8.71*c)%c)}Y U(R.39){W d=R.1T;R.1T=R.1T+1;U(R.1T>R.4z){R.1T=0}V 1+(d%c)}Y{V 1+1S.4A((c-1)*1S.81())}}1f(1V,\'81\')},_i:X ge_gosub(c,d,e,f){R.1y.1i(e);R.Z=c;W g=R.1a[R.Z++];U(R.1k<5){W i=[];1c(W h=0;h<g;h++){U(h<d.1b){i.1i(d[h])}Y{i.1i(R.1I(R.Z))}R.Z+=2}R.1m=i.1l(R.1m)}Y{1c(W j=g;j>0;j--){U(j<=d.1b){R.1m.2n(d[j-1])}Y{R.1m.2n(0)}}}R.1E.2n(g);R.1F.2n(d.1b);R.1K.1i(f);R.1A.1i(R.1o.1b);U(c==0){R._2(0)}},_n:X ge_interrupt(c,d){R.4B.1i({\'82\':d,\'2T\':R.1r,\'4m\':R.1C,\'1U\':R,\'pc\':R.Z,\'4l\':R.1j});R._i(c,[],40,-1)},_p:X ge_tokenise(D,E,t,y){W J=0;W G=E+2;W N=E+1;U(83(t))t=0;U(83(y))y=0;X O(h,j,m){X p(c,d,e){W f=0;W g,i;1p(1){U(f==d.1b){V 0}g=c.1a[e+f];i=d.2a(f);U(g==i){f++}Y U(g<i){V-1}Y{V 1}}}W k=h.1a[m+h.2p+1];W n=h.1I(m+h.2p+2);W q=h.2B+h.2p+4;W l=1;U(n<0){l=0;n=-n}W r=j;j=h._r(j);U(l){W x=0,s=n-1;W v;W o;W w;1p(1){v=x+1S.4A((s-x)/2);o=q+v*k;w=p(h,j,o);U(w<0){U(x==s){V 0}x=v+1}Y U(w>0){U(x==s){V 0}s=v-1}Y{V o}U(x>s){V 0}}}Y{1c(W B=0;B<n;B++){W C=q+B*k;U(p(h,j,C)==0){V C}}}V 0}X K(c,d,e,f){W g=O(c,e,d);U(!(y&&g==0)){c.2c(g,G);G+=2;c.1q(e.1b,G++);c.1q(f,G++)}Y{G+=4}J++;V 1}W P=R.1a[D];W H=\'\';U(t==0){t=R.2B}U(R.1k<=4){P++;W Q=D+1;1p(1){W M=R.1a[Q++];U(M==0)1P;H+=1w.1x(M)}}Y{1c(W L=0;L<R.1a[D+1];L++){H+=1w.1x(R.1a[D+2+L])}}W z=[];W F=\'\';W u=0;W I;U(R.1k<=4){I=1}Y{I=2}1c(W A=0;A<H.1b;A++){U(H.3a(A)==\' \'){U(F!=\'\'){z[u]=F;K(R,t,z[u],(A-z[u].1b)+I);u++;F=\'\'}}Y{U(R._X(H.3a(A))){U(F!=\'\'){z[u]=F;K(R,t,z[u],(A-z[u].1b)+I);u++}z[u]=H.3a(A);K(R,t,z[u],A+I);u++;F=\'\'}Y{F+=H.3a(A)}}}U(F!=\'\'){z[u]=F;K(R,t,z[u],(A-z[u].1b)+I)}R.1q(J,N)},_J:X ge_aread(c,d,e,f){d&=1e;e&=1e;W g;W i;W h;U(R.1k<=4){g=R.1a[d]+1;i=f.1X(0,g).4D();h=d+1;R.1q(0,d+1+i.1b)}Y{g=R.1a[d];i=f.1X(0,g).4D();h=d+2;R.1q(i.1b,d+1)}1c(W j=0;j<i.1b;j++){R.1q(R._h(i.2a(j)),h+j)}U(e!=0||R.1k<5){R._p(d,e,0,0)}U(c==13){V 10}Y{V c}},_K:X ge_terminating_characters(){U(R.1k<5){V\'\\r\'}Y{W c=R.1I(0x2e);W d=\'\\r\';1p(1){W e=R.1a[c++];U(e==0){1P}Y U((e>=7u&&e<=3G)||(e>=2y)){d+=1w.1x(e)}}V d}},_2:X ge_func_return(c){1c(W d=R.1E.3K();d>0;d--){R.1m.3K()}R.1F.3K();R.Z=R.1y.1W();R.1o.1b=R.1A.1W();W e=R.1K.1W();U(e!=-1&&c!=85){R._3(c,e)}U(R.Z==40){W f=R.4B.1W();R.Z=f.pc;f.82(f,c)}},_D:X throw_stack_frame(c){U(c>R.1y.1b||c<1){1f(58,c);}1p(R.1y.1b>c-1){R._2(85)}},_A:X ge_get_prop_addr(c,d){U(c==0){V 0}W e=R._c(c,d,-1);U(e[2]){V e[0]}Y{V 0}},_E:X ge_get_prop_len(c){c&=1e;U(R.1k<4){V 1+(R.1a[c-1]>>5)}Y{W d=R.1a[c-1];U(d&29){d=d&3N;U(d==0){V 64}Y{V d}}Y{U(d&2E){V 2}Y{V 1}}}1f(1V,\'get_prop_len\')},_B:X ge_get_next_prop(c,d){U(c==0)V 0;W e=R._c(c,-1,d);U(e[2]){V e[3]}Y{U(e[4]){V 0}Y{1f(57,d)}}1f(4R)},_z:X ge_get_prop(c,d){U(c==0)V 0;W e=R._c(c,d,-1);U(e[1]==2){V R.1I(e[0])}Y U(e[1]==1){V R.1a[e[0]]}Y{V R.1I(e[0])}1f(4S)},_c:X ge_property_search(c,d,e){W f=R.1h(R.2A+c*R.1B);f=f+R.1a[f]*2+1;W g=0;1p(1){W i=1;W h=R.1a[f++];U(R.1k<4){i=(h>>5)+1;h=h&3I}Y{U(h&29){i=R.1a[f++]&3N;U(i==0)i=64}Y{U(h&2E)i=2}h=h&3N}U(h==d||g==e){V[f,i,1,h,0]}Y U(h<d){U(d>0)V[R.2Z+(d-1)*2,2,0,d,0];Y V[-1,-1,0,d,g==d]}f+=i;g=h}1f(3R)},_x:X ge_set_attr(c,d){U(c==0)V;W e=R.1G+c*R.1B+(d>>3);W f=R.1a[e];R.1q(f|(3n>>(d%8)),e)},_y:X ge_clear_attr(c,d){U(c==0)V;W e=R.1G+c*R.1B+(d>>3);W f=R.1a[e];R.1q(f&~(3n>>(d%8)),e)},_w:X ge_test_attr(c,d){U(c==0)V 0;U((R.1a[R.1G+c*R.1B+(d>>3)]&(3n>>(d%8)))){V 1}Y{V 0}},_I:X put_prop(c,d,e){U(c==0)V;W f=R._c(c,d,-1);U(!f[2]){1f(704)}U(f[1]==1){R.1q(e&4N,f[0])}Y U(f[1]==2){R.2c(e&3e,f[0])}Y{1f(705)}},_Y:X ge_get_older_sibling(c){U(c==0){V 0}W d=R._9(R._a(c));U(c==d){V 0}1p(d){4E=R._d(d);U(4E==c){V d}d=4E}V 0},_l:X ge_insert_obj(c,d){W e=R._a(c);W f=R._Y(c);W g=R._d(c);U(e&&R._9(e)==c){R._s(e,g)}U(f){R._t(f,g)}R._Z(c,d);U(d){R._t(c,R._9(d));R._s(d,c)}},_F:X ge_remove_obj(c,d){R._l(c,0)},_j:X ge_get_family(c,d){U(c==0){V 0}U(R.1k<4){V R.1a[R.1G+4+d+c*R.1B]}Y{V R.1h(R.1G+6+d*2+c*R.1B)}1f(1V,\'get_family\')},_a:X ge_get_parent(c){V R._j(c,3X)},_9:X ge_get_child(c){V R._j(c,3Z)},_d:X ge_get_sibling(c){V R._j(c,3Y)},_k:X ge_set_family(c,d,e){U(R.1k<4){R.1q(d,R.1G+4+e+c*R.1B)}Y{R.2c(d,R.1G+6+e*2+c*R.1B)}},_Z:X ge_set_parent(c,d){R._k(c,d,3X)},_s:X ge_set_child(c,d){R._k(c,d,3Z)},_t:X ge_set_sibling(c,d){R._k(c,d,3Y)},_v:X ge_obj_in(c,d){V R._a(c)==d},_N:X ge_copy_table(c,d,e){U(d==0){1c(W f=0;f<e;f++){R.1q(0,f+c)}}Y{W g=0;U(e<0){e=-e;g=1}Y{U(c>d){g=1}Y{g=0}}U(g){1c(W f=0;f<e;f++){R.1q(R.1a[c+f],d+f)}}Y{1c(W f=e-1;f>=0;f--){R.1q(R.1a[c+f],d+f)}}}},_o:X ge_scan_table(c,d,e,f){W g=f&0x7F;W i=((f&29)==29);W h=d+(e*g);U(i){1p(d<h){U(((R.1a[1e&d]&1t)==((c>>8)&1t))&&((R.1a[1e&d+1]&1t)==(c&1t))){V d}d+=g}}Y{1p(d<h){U((R.1a[1e&d]&1t)==(c&1e)){V d}d+=g}}V 0},_O:X ge_print_table(c,d,e,f){W g=[];1c(W i=0;i<e;i++){W h=\'\';1c(W j=0;j<d;j++){U(c<0){c&=1e}h=h+R._7(R.1a[c++])}g.1i(h);c+=f}W m=[\'PT\',g.1b];m=m.1l(g);V m},_5:X ge_zscii_from(c,d,e){U(c in R.1Y){U(e)V R.1Y[c];Y V R.1Y[c][0]}W f=\'\';W g=1;W i=c;W h=0;W j=h;W m=-2;W p=0;U(!d)d=88;W k=c+d;1p(g){W n=R.1h(c);c+=2;g=((n&2K)==0)&&c<k;1c(W q=2;q>=0;q--){W l=((n>>(q*5))&0x1f);U(p){f=f+R._5(R.1h((32*(p-1)+l)*2+R.4s)*2);p=0;j=h}Y U(m==-2){U(l>5){U(j==2&&l==6)m=-1;Y{f=f+R.1R[j].3a(l-6);j=h}}Y{U(l==0){f=f+\' \';j=h}Y U(l<4){U(R.2h(0)>2){p=l}Y{U(l==2){j+=1;U(j>2){j=0}}Y U(l==3){j-=1;U(j<0){j=2}}Y{U(R.2h(0)==2){p=1}Y{f=f+\'\\n\';j=h}}}}Y{U(R.2h(0)>2){j=l-3}Y{U(l==4){h+=1;U(h>2){h=0}}Y{h-=1;U(h<0){h=2}}j=h}}}}Y U(m==-1){m=l}Y{f=f+R._7((m<<5)+l);m=-2;j=h}}}U(i>=R.1Z){R.1Y[i]=[f,c]}U(e){V[f,c]}Y{V f}},_M:X ge_encode_text(c,d,e,f){c=(c+e)&1e;W g=\'\';1p(d>0){W i=R.1a[c];U(i==0)1P;g=g+1w.1x(i);c++;d--}W h=R._r(g);1c(W j=0;j<h.1b;j++){W m=h[j].2a(0);R.1q(m,f++)}},_r:X ge_into_zscii(e){W f=\'\';W g=[];W i;U(R.1k<4){i=4}Y{i=6}X h(c){g.1i(c);U(g.1b==3){W d=(g[0]<<10|g[1]<<5|g[2]);U(f.1b==i-2){d|=2K}f=f+1w.1x(d>>8)+1w.1x(d&1t);g=[]}}W j,m=0,p;1p(m<e.1b&&f.1b<i){j=e.2a(m++);U(j>=65&&j<=90)j+=32;Y U(j>3G){U(R.1H==0){U((j>=4L&&j<=4M)||(j>=4O&&j<=4P)||(j>=59&&j<=5a))j-=3;Y U(j>=3R&&j<=3S)j-=6;Y U((j>=3T&&j<=2b)||(j>=52&&j<=3U))j-=5;Y U(j==5d||j==5e)j-=2;Y U(j==3V||j==3W||j==5b||j==5c||j==5f)j-=1}Y{W k=R._h(R._7(j).4D().2a(0));U(k>0&&k<=2e&&k!=\'*\'.2a(0))j=k}}W n=1w.1x(R._7(j).2a(0));p=R.1R[0].4H(n);U(p!=-1)h(p+6);Y{p=R.1R[1].4H(n);U(p!=-1){U(R.2h(0)>2)h(4);Y h(2);h(p+6)}Y{p=R.1R[2].4H(n);U(p!=-1){U(R.2h(0)>2)h(5);Y h(3);h(p+6)}Y{U(R.2h(0)>2)h(5);Y h(3);h(6);h(j>>5);h(j&3I)}}}}1p(f.1b<i){h(5)}V f.1X(0,i)},_G:X ge_name_of_object(c){U(c==0){V"<void>"}Y{W d=R.2A+c*R.1B;V R._5(R.1h(d)+1)}},89:X ge_print_leftovers(){R._u(R.36);R.36=\'\'},_u:X ge_zOut(c){U(R.1Q.1b){W d=R.1Q[0];W e=R.1Q[0][1];1c(W f=0;f<c.1b;f++)R.1q(R._h(c.2a(f)),e++);R.1Q[0][1]=e}Y{W g=R.1a[4w]&7K;W i=g!=R.35;effect_parameters=R.35;R.35=g;U(i){R.36=c;R.1r=R.89;V 1}Y{U(R.34){R.2C=R.2C+c}U(g&1){R.2D=R.2D+c}}}V 0},consoleText:X ge_console_text(){W c=R.2C.8a(\'\\8b\',\'\',\'g\');R.2C=\'\';V c},_12:X ge_transcript_text(){W c=R.2D.8a(\'\\8b\',\'\',\'g\');R.2D=\'\';V c},_X:X ge_IsSeparator(c){1c(W d=0;d<R.2p;d++){U(c==R.4u[d])V 1}V 0},_b:X ge_code_for_varcode(c){U(c==0){V 41}Y U(c<2m){V\'1m[\'+(c-1)+\']\'}Y{V\'1I(\'+(R.1u+(c-16)*2)+\')\'}1f(1V,\'code_for_varcode\')},_8:X ge_varcode_get(c){U(c==0){V R.1o.1W()}Y U(c<2m){V R.1m[(c-1)]}Y{V R.1I(R.1u+(c-16)*2)}1f(1V,\'varcode_get\')},_3:X ge_varcode_set(c,d){U(d==0){R.1o.1i(c)}Y U(d<2m){R.1m[d-1]=c}Y{R.2c(c,R.1u+(d-16)*2)}},_1:X ge_brancher(c){W d=1;W e=R.1a[R.Z++];W f=e&3N;U(e&29){d=0}U(!(e&2E)){f=(f<<8)|R.1a[R.Z++];U(f&0x2000){f=(~8c)|(f&8c)}}W g=c;U(d){g=\'U(!(\'+g+\'))\'}Y{g=\'U(\'+g+\')\'}U(f==0){V g+\'{_2(0);V;}\'}U(f==1){V g+\'{_2(1);V;}\'}f=(R.Z+f)-2;V g+\'{Z=\'+(f)+\';V;}\'},_0:X ge_storer(c){W d=R.1a[R.Z++];U(c.1X&&c.1X(0,11)==\'_i\'){R.1g=0;U(c.1X(c.1b-4)!=\',-1)\'){1f(100,c)}V c.1X(0,c.1b-3)+d+\')\'}Y U(d==0){V\'1o.1i(\'+c+\')\'}Y U(d<2m){V\'1m[\'+(d-1)+\']=\'+c}Y{V\'2c(\'+c+\',\'+(R.1u+(d-16)*2)+\')\'}1f(1V,\'storer\')},_6:X call_vn(c,d,e){R.1g=0;W f=-1;U(e){f=R.1a[R.Z++]}V\'_i(\'+R.2d(c)+\',[\'+d.2f()+\'],\'+R.Z+\',\'+f+\')\'},_4:X ge_handler_zOut(c,d){W e;U(d){e=\'_2(1)\'}Y{e=\'Z=0x\'+R.Z.2f(16)}V\'U(_u(\'+c+\')){\'+e+\';1j=[\'+5l+\'];V 1}\'},_m:X ge_handler_print(c,d){W e=R._5(R.Z,88,1);W f=e[0];U(c)f=f+c;f=f.quote();R.Z=e[1];V R._4(f,d)},_Q:X ge_log_shift(c,d){U(d<0){V(c>>>(-1*d))&3Q}Y{V(c<<d)&3Q}},_R:X ge_art_shift(c,d){U(d<0){V(c>>(-1*d))&3Q}Y{V(c<<d)&3Q}},_W:X ge_touch(c){U(R.2W){R.2U("pc",c.2f(16))}R.Z=c},_S:X ge_save_undo(8d){R.1z=R._f(8d);V 1},_T:X ge_restore_undo(){U(4t R.1z!=\'7S\'){V 0}R.1y=R.1z.1y;R.1m=R.1z.1m;R.1E=R.1z.1E;R.1F=R.1z.1F;R.1K=R.1z.1K;R.1o=R.1z.1o;R.1A=R.1z.1A;W 4J=R.1z.1a;R.1a=4J.1l(R.1a.1s(4J.1b));R._3(2,R.1a[R.1z.Z]);R.Z=R.1z.Z+1;R.1z=0;V 1},_f:X ge_saveable_state(c){W d={\'1a\':R.1a.1s(0,R.1Z),\'Z\':R.Z+c,\'1y\':R.1y.1s(),\'1m\':R.1m.1s(),\'1E\':R.1E.1s(),\'1F\':R.1F.1s(),\'1K\':R.1K.1s(),\'1o\':R.1o.1s(),\'1A\':R.1A.1s()};V d},_H:X ge_verify(){W c=0;W d=(R.1D[0x1c]<<8|R.1D[0x1d]);1c(W e=2E;e<R.1D.1b;e++){c+=R.1D[e]}V(c&1e)==d},m_local_game_file:0,1a:[],2i:0,1Y:[],2W:0,2X:0,1g:0,1o:0,1A:[],7N:0,Z:0,m_this_instr_pc:0,2B:0,2Z:0,1u:0,1Z:0,4s:0,3E:0,30:0,1R:[],4i:0,4h:0,1H:0,33:0,2p:0,4u:[],1k:0,1y:[],1m:[],1E:0,1F:0,1K:[],1r:0,1C:[],34:0,1Q:[],3F:0,4o:0,7Y:0,m_parser_debugging:0,m_breakpoints:{},2C:\'\',2D:\'\',1j:[],1v:[],1T:0,38:0,39:0,4z:0,35:0,36:\'\',2d:2S,2v:2S,1z:0,3j:0,2Y:0,1D:[],7L:1,1G:0,2A:0,1B:14,4B:[]};',[],510,'|||||||||||||||||||||||||||||||||||||||||||||||||||||this|||if|return|var|function|else|m_pc|||||||||||m_memory|length|for||0xFFFF|gnusto_error|m_compilation_running|getUnsignedWord|push|m_effects|m_version|concat|m_locals||m_gamestack|while|setByte|m_rebound|slice|0xFF|m_vars_start|m_answers|String|fromCharCode|m_call_stack|m_undo|m_gamestack_callbreaks|m_object_size|m_rebound_args|m_original_memory|m_locals_stack|m_param_counts|m_object_tree_start|m_unicode_start|getWord||m_result_targets|code|||0x00|break|m_streamthrees|m_zalphabet|Math|m_random_state|engine|170|pop|substring|m_jit|m_stat_start||||||||||0x80|charCodeAt|190|setWord|m_pc_translate_for_routine|251|toString||getByte|m_handlers||||0x10|unshift|case|m_separator_count|155|185|191|||m_pc_translate_for_string|handleZ_not|250|252|255|m_property_list_addr_start|m_dict_start|m_console_buffer|m_transcript_buffer|0x40|default_unicode_translation_table|181|182|||0x8000|handleZ_pop|143|236|248|249|253|254|pc_translate_v45|rebound|logger|version|m_goldenTrail|m_copperTrail|m_quetzal_image|m_objs_start|m_alpha_start|changed||m_custom_unicode_charcount|m_output_to_console|m_printing_header_bits|m_leftovers||m_random_use_seed|m_random_use_sequence|charAt||188|reverse_unicode_table|0xffff||handleZ_show_status||handleZ_saveV123|m_state_to_save||handleZ_restoreV123|handlers_v578|128|136|237|238|239|240|241|242|246|247|1000|arguments|101|not|implemented||minutes|m_hext_start|m_output_to_script|154||0x1F|0x0F|shift|||0x3F|||0x7FFF|175|180|186|200|202|204|PARENT_REC|SIBLING_REC|CHILD_REC|CALLED_FROM_INTERRUPT|ARG_STACK_POP|GNUSTO_EFFECT_SAVE|GNUSTO_EFFECT_RESTORE|GNUSTO_EFFECT_STYLE|||handleZ_call_vn|handleZ_call_vs||eval|||handleZ_saveV45678|handleZ_restoreV45678|handlers_fixups|pc_translate_v123|m_routine_start|m_string_start|pc_translate_v8|message|effects|rebound_args||m_single_step|0x46|0x4d|hours|m_abbr_start|typeof|m_separators|0x20|0x11|126|abs|m_random_sequence_max|round|m_interrupt_information||toLowerCase|next_along|||indexOf||mem|CVS_VERSION|158|160|0xff|167|168|171|173|174|176|177|178|179|183|184|187||189|196||199|201|203|205|207|208|210|212|214|217|218|221|GNUSTO_EFFECT_INPUT|GNUSTO_EFFECT_INPUT_CHAR|GNUSTO_EFFECT_QUIT|GNUSTO_EFFECT_RESTART||GNUSTO_EFFECT_FLAGS_CHANGED|GNUSTO_EFFECT_PIRACY|GNUSTO_EFFECT_SOUND|GNUSTO_EFFECT_SPLITWINDOW|GNUSTO_EFFECT_SETWINDOW|GNUSTO_EFFECT_ERASEWINDOW|GNUSTO_EFFECT_ERASELINE|GNUSTO_EFFECT_SETCURSOR|GNUSTO_EFFECT_SETBUFFERMODE|GNUSTO_EFFECT_SETINPUTSTREAM|GNUSTO_EFFECT_GETCURSOR||handleZ_je|handleZ_jl|handleZ_jg|handleZ_dec_chk|handleZ_inc_chk|handleZ_jin||handleZ_test|handleZ_or|handleZ_and|handleZ_test_attr||handleZ_set_attr||handleZ_clear_attr||handleZ_store|handleZ_insert_obj|handleZ_loadw|handleZ_loadb|handleZ_get_prop||handleZ_get_prop_addr||handleZ_get_next_prop||handleZ_add|handleZ_sub|handleZ_mul|handleZ_div||handleZ_mod|handleZ_set_colour|||handleZ_throw||handleZ_jz|handleZ_get_sibling|handleZ_get_child|handleZ_get_parent|handleZ_get_prop_len||handleZ_inc|handleZ_dec|handleZ_print_addr|handleZ_remove_obj||handleZ_print_obj||handleZ_ret|handleZ_jump|handleZ_print_paddr|handleZ_load|handleZ_rtrue|handleZ_rfalse|handleZ_print|handleZ_print_ret|handleZ_nop|handleZ_restart|handleZ_ret_popped|handleZ_catch|handleZ_quit|handleZ_new_line|handleZ_verify||handleZ_illegal_extended|handleZ_piracy|handleZ_call_1n|handleZ_call_1s|handleZ_call_2n|handleZ_call_2s|handleZ_store_w|handleZ_storeb|handleZ_putprop||handleZ_read||onISRReturn_for_read||handleZ_print_char|handleZ_print_num|handleZ_random|handleZ_push|handleZ_pull|handleZ_split_window|handleZ_set_window|handleZ_erase_window|handleZ_erase_line|handleZ_set_cursor|handleZ_get_cursor|handleZ_set_text_style||handleZ_buffer_mode|handleZ_output_stream||handleZ_input_stream|handleZ_sound_effect|handleZ_read_char|onISRReturn_for_read_char|handleZ_scan_table|handleZ_tokenise|handleZ_encode_text||handleZ_copy_table||handleZ_print_table||handleZ_check_arg_count||handleZ_log_shift||handleZ_art_shift||handleZ_set_font|handleZ_save_undo||handleZ_restore_undo||handleZ_print_unicode|handleZ_check_unicode|129|undefined|pc_translate_v67R|pc_translate_v67S|new|GnustoEngine|999|with|signature||walk|0x65|0x6d|0x53|0x49|0x02|0x03|m_compress_save_files|status|m_himem|impossible|unknown|machine|switch|object||0xC000||0x30|special_instruction_EXT|m_debug_mode|0x1|702|random|on_return|isNaN||null|||65535|_10|replace|x00|0x1FFF|varcode_offset'.split('|'),0,{}))